
<div *ngIf="room.id else no_room">
	<div class="flexbox">
		<div #scroll id="chat_box" class="chat-box" >

			<!-- CLASS chat-box-header -->
			<section class="chat-box-header">
				<div class="chat-box-info">
					<h2>{{ room.name }}</h2>
					<p id="description">{{room.description}}</p>
					<p id="membres" *ngFor="let user of room.users">{{user.intra_name}}</p>
				</div>
				<!-- Settings -->
				<div class="chat-box-settings">
					<a href="index.html">
						<img src="../../../../assets/svg/settings.svg" alt="settings">
					</a>
				</div>
			</section>

			<!-- CLASS chat-box-body -->
			<div id="chat_box_body" class="chat-box-body">
				<div id="chat_messages">
					<ng-container *ngFor="let message of (messages$ | async)">
						<ng-container *ngIf="message.user.id === user.id">
							<!-- <div class="profile my-profile">
								<span> Moi </span>
								<img src="{{ message.user.avatar_url }}"/>
							</div> -->
							<div class="message my-message">{{ message.content }}</div>
						</ng-container>
						<ng-container *ngIf="message.user.id !== user.id">
							<div class="profile other-profile">
								<!-- <img class="" src="{{ message.user.avatar_url }}"/> -->
								<p> {{ message.user.intra_name }} </p>
								<div id="{{message.id}}" class="message other-message">{{ message.content }}</div>
								<span class="date">Envoyé le {{ message.createdAt | date: 'dd/MM/yyyy à HH:mm' }}</span>
							</div>
						</ng-container>
					</ng-container>
				</div>
			</div>

			<!-- CLASS chat-box-footer -->
			<form [formGroup]="form" (ngSubmit)="sendMessage()" class="chat-box-footer">
				<div class="chat-input">
					<textarea id="chat-input-text" placeholder="J’ecris le super message de la mort qui tue ici" formControlName="message" ></textarea>
					<!-- Bouton send + icon -->
					<button mat-raised-button type="submit" (action)="sendMessage()" class="send">
						<svg width="22px" height="22px" viewBox="0 0 22 22">
							<title>send icon</title>
							<g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
								<g id="incons/support" transform="translate(-9.000000, -9.000000)" fill="#FEEFCF" stroke="#FEEFCF">
									<path d="M29.6363636,10.3636364 C29.4090909,10.1363636 29.0909091,10 28.7727273,10 C28.3181818,10 27.8636364,10.0909091 27.4545455,10.2727273 L10.7272727,17.1363636 C10.2727273,17.3181818 10,17.7272727 10,18.1818182 C10,18.6363636 10.2727273,19.0454545 10.7272727,19.2272727 L15.409732,21.0528514 C15.6370047,21.1437605 15.909732,21.0073969 16.0006411,20.7801241 C16.0915502,20.5528514 15.9551866,20.2801241 15.7279138,20.189215 L11.0454545,18.3636364 C10.9545455,18.3636364 10.9090909,18.2727273 10.9090909,18.1818182 C10.9090909,18.0909091 10.9545455,18 11.0454545,18 L27.8181818,11.0909091 C28.1363636,10.9545455 28.4545455,10.9090909 28.7727273,10.9090909 C28.8636364,10.9090909 28.9545455,10.9545455 29,11 C29.0454545,11.0454545 29.0909091,11.1363636 29.0909091,11.2272727 C29.0909091,11.5454545 29.0454545,11.8636364 28.9090909,12.1818182 L22,28.9545455 C21.9545455,29.0909091 21.6818182,29.1363636 21.5909091,28.9545455 L18.6818182,21.9090909 L26.2272727,14.4090909 C26.4090909,14.2272727 26.4090909,13.9545455 26.2272727,13.7727273 C26.0454545,13.5909091 25.7727273,13.5909091 25.5909091,13.7727273 L17.8636364,21.5 C17.7727273,21.5909091 17.7272727,21.6818182 17.7272727,21.8181818 L17.7272727,27.5359244 C17.7272727,27.8086517 17.9090909,27.9904699 18.1818182,27.9904699 C18.4545455,27.9904699 18.6363636,27.8086517 18.6363636,27.5359244 L18.6363636,24.1363636 L20.7727273,29.3181818 C20.9545455,29.7272727 21.3636364,30 21.8181818,30 C22.2727273,30 22.6818182,29.7272727 22.8636364,29.2727273 L29.7272727,12.5454545 C29.9090909,12.1363636 30,11.6818182 30,11.2272727 C30,10.9090909 29.8636364,10.5909091 29.6363636,10.3636364" id="Fill-1"></path>
								</g>
							</g>
						</svg>
					</button>
				</div>
			</form>
		</div>
	</div>
</div>

	<ng-template #no_room>
		<mat-error  class="no-room" >Aucun groupe sélectionné</mat-error>
	</ng-template>
